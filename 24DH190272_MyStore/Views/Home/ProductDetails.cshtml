@model _24DH190272_MyStore.Models.ProductDetailsVM
@using PagedList.Mvc;

@{
    ViewBag.Title = Model.Product.ProductName;
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link href="~/Content/CustomerDetailProduct.css" rel="stylesheet" />
<link href="~/Content/bootstrap.css" rel="stylesheet" />
<link href="~/Content/bootstrap.min.css" rel="stylesheet" />
@using (Html.BeginForm("AddToCart", "Cart", FormMethod.Post))
{
    @Html.Hidden("id", Model.Product.ProductID)
    <table class="table">
        <tr>
            <th>
                <img src="@Model.Product.ProductImage"
                     alt="@Model.Product.ProductName"
                     style="width: 100px; height: 100px; object-fit: cover; border-radius: 5px;" />
            </th>
            <th>@Model.Product.ProductName</th>
            <th>Số Lượng: @Html.TextBoxFor(m => m.Quantity, new { @type = "number", @min = "1", @max = "99", @class = "quantity-input" })</th>
            <th>@Model.Product.ProductDescription</th>
            <th>Tạm tính: <span>@string.Format("{0:N0}₫", (Model.Product.ProductPrice * Model.Quantity))</span></th>
            <th><button type="submit" class="btn-add-to-cart">THÊM VÀO GIỎ HÀNG</button></th>
        </tr>
    </table>
}


<div class="product-order-col">
    <div class="top-deals-section">
        <h4>Sản phẩm bán chạy</h4>
        @Html.Partial("_PVTopProduct", Model.TopProducts)
        <div class="pagination-container">
            @Html.PagedListPager(Model.TopProducts, page => Url.Action("ProductDetails", new { id = Model.Product.ProductID, quantity = Model.Quantity, page }))
        </div>
    </div>
</div>

<div class="related-products-section">
    <h3>Sản phẩm tương tự</h3>
    @Html.Partial("_PVRelatedProduct", Model.RelatedProducts)
</div>

    </div>